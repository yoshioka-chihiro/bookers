<h1>Books</h1>

<table>
  <!-- theadは表のヘッダーという意味 -->
  <thead>
    <tr>
      <th>Title</th>
      <th>Body</th>
      <th colspan="3"></th>
    </tr>
  </thead>
   <% @books.each do |book| %>
   <tbody>
     <tr class="table">
       <td class="title"><%= book.title %></td>
       <td class="body"><%= book.body %></td>
       <td class="link">
         <%= link_to "Show", "/books/#{book.id}" %>
         <%= link_to "Edit", "/books/#{book.id}/edit" %>
         <%= link_to "Destroy", "/books/#{book.id}", method: :delete, "data-confirm" => "本当に削除しますか？" %>
       </td>
     </tr>
   </tbody>
   <% end %>
</table>

<h2>New book</h2>
 <% if @book.errors.any? %>
 <div class= "error_message">
  <h3 class="error_explanation"><%= @book.errors.count %> errors prohibited this book from being saved:</h3>
  <ul class="error_list">
   <% @book.errors.full_messages.each do |message| %>
    <li><%= message %></li>
   <% end %>
  </ul>
 </div>

 <%= form_with model: @book, url: "/books", method: :post do |f| %>

   <label class="field_with_errors">Title</label>
   <%= f.text_field:title %>

   <label class="field_with_errors">Body</label>
   <%= f.text_area:body %>

 <%= f.submit 'Create Book', :class => "btn" %>
 <% end %>

  <% else %>

 <%= form_with model: @book, url: "/books", method: :post do |f| %>
   <label>Title</label>
   <%= f.text_field:title %>

   <label>Body</label>
   <%= f.text_area:body %>

 <%= f.submit 'Create Book', :class => "btn" %>
 <% end %>
<% end %>
